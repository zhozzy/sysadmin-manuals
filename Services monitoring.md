
Этот комплекс состоит из следующих компонентов:

- Zabbix-сервер
- В минимальной конфигурации достаточно только Zabbix-сервера. Он умеет не только пинговать узлы, то также опрашивать их по snmp, http, telnet/ssh, ipmi протоколам. Позволяет проводить проверки по самописным скриптам (например опрос времени жизни ssl-сертификатов). Конфигурируется он через удобный (хотя с первого раза непонятный) веб-интерфейс.

- Zabbix-агент
- Для мониторинга серверов обычно ставят на них zabbix-агента. Zabbix-агент также чрезвычайно гибкий инструмент по сбору параметров с наблюдаемого компьютера. Часть базовых проверок встроено в агента, но если их не хватает, то с помощью скриптов можно лихо увеличить количество собираемой информации. Но это еще не все. При правильной настройке zabbix-агент умеет запускать скрипты по команде с сервера. А сервер может выслать такую команду по сработавшему событию (к примеру, когда основной интернет отключился, перейти на резервный.) Агент существует как под windows, так и под *nix.

- Zabbix-прокси
- Zabbix-прокси пригодится, если у нас в подчинении много офисов, которые на связи бывают не всегда. Чтобы не делать много самостоятельных серверов и не путаться во вкладках браузера мы можем собирать показания с помощью zabbix-proxy, который при появлении связи передаст их на центральный сервер, на котором мы и будем анализировать информацию. Также прокси может помочь для оптимизации нагрузки на zabbix-сервер.


Для начала установим Zabbix-сервер и подготовим его к работе (официальная инструкция тут: https://www.zabbix.com/documentation/current/ru/manual/installation/install_from_packages/debian_ubuntu)


В репозитории нашего дистрибутива есть пакеты zabbix, но они неактуальных версий. К счастью разработчики заббикса поддерживают свой репозиторий. У нас традиционно дистрибутив Ubuntu 18.04.. Базу данных выберем mysql.
13:02

Ну как всегда! Ладно. Что там с репозиторием?
13:02

Чтобы подключить репозиторий надо выполнить вот эти команды:


wget https://repo.zabbix.com/zabbix/4.4/ubuntu/pool/main/z/zabbix-release/zabbix-release_4.4-1+bionic_all.deb
sudo dpkg -i zabbix-release_4.4-1+bionic_all.deb


sudo apt-get update
13:10

К установке.
13:10

Ставим все необходимые пакеты:


sudo apt-get install zabbix-server-mysql zabbix-frontend-php zabbix-apache-conf zabbix-agent php-mysql


Все пакеты установились вразнобой, так что если хочешь продолжить, то надо рестартнуть апач.


sudo service apache2 restart


Теперь можешь открыть веб-интерфейс нашего будущего мегакомбайна по мониторингу. Он доступен вот по такой ссылке: http://ip_нашего_сервера/zabbix








